const arrFirst = [
  {
    keycode: "Tab",
    class: "button-basic",
    enContentFirst: "~",
    enContentSecond: "`",
    ruContentFirst: "Ё",
    ruContentSecond: "ё",
  },
  {
    keycode: "Tab",
    class: "button-basic",
    enContentFirst: "!",
    enContentSecond: "1",
    ruContentFirst: "!",
    ruContentSecond: "1",
  },
  {
    keycode: "Tab",
    class: "button-basic",
    enContentFirst: "@",
    enContentSecond: "2",
    ruContentFirst: '"',
    ruContentSecond: "2",
  },
  {
    keycode: "Tab",
    class: "button-basic",
    enContentFirst: "#",
    enContentSecond: "3",
    ruContentFirst: "№",
    ruContentSecond: "3",
  },
  {
    keycode: "Tab",
    class: "button-basic",
    enContentFirst: "$",
    enContentSecond: "4",
    ruContentFirst: ";",
    ruContentSecond: "4",
  },
  {
    keycode: "Tab",
    class: "button-basic",
    enContentFirst: "%",
    enContentSecond: "5",
    ruContentFirst: "%",
    ruContentSecond: "5",
  },
  {
    keycode: "Tab",
    class: "button-basic",
    enContentFirst: ":",
    enContentSecond: "6",
    ruContentFirst: "^",
    ruContentSecond: "6",
  },
  {
    keycode: "Tab",
    class: "button-basic",
    enContentFirst: "&",
    enContentSecond: "7",
    ruContentFirst: "?",
    ruContentSecond: "7",
  },
  {
    keycode: "Tab",
    class: "button-basic",
    enContentFirst: "*",
    enContentSecond: "8",
    ruContentFirst: "*",
    ruContentSecond: "8",
  },
  {
    keycode: "Tab",
    class: "button-basic",
    enContentFirst: "(",
    enContentSecond: "9",
    ruContentFirst: "(",
    ruContentSecond: "9",
  },
  {
    keycode: "Tab",
    class: "button-basic",
    enContentFirst: ")",
    enContentSecond: "0",
    ruContentFirst: ")",
    ruContentSecond: "0",
  },
  {
    keycode: "Tab",
    class: "button-basic",
    enContentFirst: "_",
    enContentSecond: "-",
    ruContentFirst: "_",
    ruContentSecond: "-",
  },
  {
    keycode: "Tab",
    class: "button-basic",
    enContentFirst: "+",
    enContentSecond: "=",
    ruContentFirst: "+",
    ruContentSecond: "=",
  },
  {
    keycode: "Tab",
    class: "button-basic big backspace",
    enContentFirst: "Backspace",
    enContentSecond: "",
    ruContentFirst: "Backspace",
    ruContentSecond: "",
  },
];

const arrSecond = [
  {
    // atrName: "Tab",
    class: "button-basic medium",
    keycode: "Tab",
    enContentFirst: "Tab",
    enContentSecond: "",
    ruContentFirst: "Tab",
    ruContentSecond: "",
  },
  {
    // atrName: "key-q",
    class: "button-basic key-q",
    keycode: "KeyQ",
    enContentFirst: "Q",
    enContentSecond: "q",
    ruContentFirst: "Й",
    ruContentSecond: "й",
  },
  {
    class: "button-basic key-w",
    keycode: "KeyW",
    enContentFirst: "W",
    enContentSecond: "w",
    ruContentFirst: "Ц",
    ruContentSecond: "ц",
  },
  {
    class: "button-basic",
    keycode: "KeyE",
    enContentFirst: "E",
    enContentSecond: "e",
    ruContentFirst: "У",
    ruContentSecond: "у",
  },
  {
    class: "button-basic",
    keycode: "KeyR",
    enContentFirst: "R",
    enContentSecond: "r",
    ruContentFirst: "К",
    ruContentSecond: "к",
  },
  {
    class: "button-basic",
    enContentFirst: "T",
    enContentSecond: "t",
    ruContentFirst: "Е",
    ruContentSecond: "е",
  },
  {
    class: "button-basic",
    enContentFirst: "Y",
    enContentSecond: "y",
    ruContentFirst: "Н",
    ruContentSecond: "н",
  },
  {
    class: "button-basic",
    enContentFirst: "U",
    enContentSecond: "u",
    ruContentFirst: "Г",
    ruContentSecond: "г",
  },
  {
    class: "button-basic",
    enContentFirst: "I",
    enContentSecond: "i",
    ruContentFirst: "Ш",
    ruContentSecond: "ш",
  },
  {
    class: "button-basic",
    enContentFirst: "O",
    enContentSecond: "o",
    ruContentFirst: "Щ",
    ruContentSecond: "щ",
  },
  {
    class: "button-basic",
    enContentFirst: "P",
    enContentSecond: "p",
    ruContentFirst: "З",
    ruContentSecond: "з",
  },
  {
    class: "button-basic",
    enContentFirst: "{",
    enContentSecond: "[",
    ruContentFirst: "Х",
    ruContentSecond: "х",
  },
  {
    class: "button-basic",
    enContentFirst: "}",
    enContentSecond: "]",
    ruContentFirst: "Ъ",
    ruContentSecond: "ъ",
  },
  {
    class: "button-basic",
    enContentFirst: "|",
    enContentSecond: "&#92",
    ruContentFirst: "/",
    ruContentSecond: "&#92",
  },
  {
    class: "button-basic medium",
    enContentFirst: "Del",
    enContentSecond: "",
    ruContentFirst: "Del",
    ruContentSecond: "",
  },
];

const arrThird = [
  {
    class: "button-basic medium",
    enContentFirst: "Caps Lock",
    enContentSecond: "",
    ruContentFirst: "Caps Lock",
    ruContentSecond: "",
  },
  {
    class: "button-basic",
    enContentFirst: "A",
    enContentSecond: "a",
    ruContentFirst: "Ф",
    ruContentSecond: "ф",
  },
  {
    class: "button-basic",
    enContentFirst: "S",
    enContentSecond: "s",
    ruContentFirst: "Ы",
    ruContentSecond: "ы",
  },
  {
    class: "button-basic",
    enContentFirst: "D",
    enContentSecond: "d",
    ruContentFirst: "В",
    ruContentSecond: "в",
  },
  {
    class: "button-basic",
    enContentFirst: "F",
    enContentSecond: "f",
    ruContentFirst: "А",
    ruContentSecond: "а",
  },
  {
    class: "button-basic",
    enContentFirst: "G",
    enContentSecond: "g",
    ruContentFirst: "П",
    ruContentSecond: "п",
  },
  {
    class: "button-basic",
    enContentFirst: "H",
    enContentSecond: "h",
    ruContentFirst: "Р",
    ruContentSecond: "р",
  },
  {
    class: "button-basic",
    enContentFirst: "J",
    enContentSecond: "j",
    ruContentFirst: "О",
    ruContentSecond: "о",
  },
  {
    class: "button-basic",
    enContentFirst: "K",
    enContentSecond: "k",
    ruContentFirst: "Л",
    ruContentSecond: "л",
  },
  {
    class: "button-basic",
    enContentFirst: "L",
    enContentSecond: "l",
    ruContentFirst: "Д",
    ruContentSecond: "д",
  },
  {
    class: "button-basic",
    enContentFirst: ":",
    enContentSecond: ";",
    ruContentFirst: "Ж",
    ruContentSecond: "ж",
  },
  {
    class: "button-basic",
    enContentFirst: '"',
    enContentSecond: "'",
    ruContentFirst: "Э",
    ruContentSecond: "э",
  },
  {
    class: "button-basic big",
    enContentFirst: "Enter",
    enContentSecond: "",
    ruContentFirst: "Enter",
    ruContentSecond: "",
  },
];

const arrFourth = [
  {
    class: "button-basic medium shift-left",
    enContentFirst: "Shift",
    enContentSecond: "",
    ruContentFirst: "Shift",
    ruContentSecond: "",
  },
  {
    class: "button-basic",
    enContentFirst: "|",
    enContentSecond: "&#92",
    ruContentFirst: "/",
    ruContentSecond: "&#92",
  },
  {
    class: "button-basic",
    enContentFirst: "Z",
    enContentSecond: "z",
    ruContentFirst: "Я",
    ruContentSecond: "я",
  },
  {
    class: "button-basic",
    enContentFirst: "X",
    enContentSecond: "x",
    ruContentFirst: "Ч",
    ruContentSecond: "ч",
  },
  {
    class: "button-basic",
    enContentFirst: "C",
    enContentSecond: "c",
    ruContentFirst: "С",
    ruContentSecond: "с",
  },
  {
    class: "button-basic",
    enContentFirst: "V",
    enContentSecond: "v",
    ruContentFirst: "М",
    ruContentSecond: "м",
  },
  {
    class: "button-basic",
    enContentFirst: "B",
    enContentSecond: "b",
    ruContentFirst: "И",
    ruContentSecond: "и",
  },
  {
    class: "button-basic",
    enContentFirst: "N",
    enContentSecond: "n",
    ruContentFirst: "Т",
    ruContentSecond: "т",
  },
  {
    class: "button-basic",
    enContentFirst: "M",
    enContentSecond: "m",
    ruContentFirst: "Ь",
    ruContentSecond: "ь",
  },
  {
    class: "button-basic",
    enContentFirst: "<",
    enContentSecond: ",",
    ruContentFirst: "Б",
    ruContentSecond: "б",
  },
  {
    class: "button-basic",
    enContentFirst: ">",
    enContentSecond: ".",
    ruContentFirst: "Ю",
    ruContentSecond: "ю",
  },
  {
    class: "button-basic",
    enContentFirst: "?",
    enContentSecond: "/",
    ruContentFirst: ",",
    ruContentSecond: ".",
  },
  {
    class: "button-basic",
    enContentFirst: "<span class = 'arrow-top english'></span>",
    enContentSecond: "",
    ruContentFirst: "<span class = 'arrow-top russian'></span>",
    ruContentSecond: "",
  },
  {
    class: "button-basic right-shift",
    enContentFirst: "Shift",
    enContentSecond: "",
    ruContentFirst: "Shift",
    ruContentSecond: "",
  },
];

const arrFifth = [
  {
    class: "button-basic medium",
    enContentFirst: "Ctrl",
    enContentSecond: "",
    ruContentFirst: "Ctrl",
    ruContentSecond: "",
  },
  {
    class: "button-basic",
    enContentFirst: "Win",
    enContentSecond: "",
    ruContentFirst: "Win",
    ruContentSecond: "",
  },
  {
    class: "button-basic alt-left",
    enContentFirst: "Alt",
    enContentSecond: "",
    ruContentFirst: "Alt",
    ruContentSecond: "",
  },
  {
    class: "button-basic space",
    enContentFirst: "&nbsp",
    enContentSecond: "&nbsp",
    ruContentFirst: "&nbsp",
    ruContentSecond: "&nbsp",
  },
  {
    class: "button-basic",
    enContentFirst: "Alt",
    enContentSecond: "",
    ruContentFirst: "Alt",
    ruContentSecond: "",
  },
  {
    class: "button-basic medium",
    enContentFirst: "Ctrl",
    enContentSecond: "",
    ruContentFirst: "Ctrl",
    ruContentSecond: "",
  },
  {
    class: "button-basic",
    enContentFirst: "<span class = 'arrow-left english'></span>",
    enContentSecond: "",
    ruContentFirst: "<span class = 'arrow-left russian'></span>",
    ruContentSecond: "",
  },
  {
    class: "button-basic",
    enContentFirst: "<span class = 'arrow-down english'></span>",
    enContentSecond: "",
    ruContentFirst: "<span class = 'arrow-down russian'></span>",
    ruContentSecond: "",
  },
  {
    class: "button-basic",
    enContentFirst: "<span class = 'arrow-right english'></span>",
    enContentSecond: "",
    ruContentFirst: "<span class = 'arrow-right russian'></span>",
    ruContentSecond: "",
  },
];

function createPage() {
  const body = document.querySelector(".body");
  const container = document.createElement("main");
  const textarea = document.createElement("textarea");
  const keyboard = document.createElement("section");

  container.className = "container";
  textarea.className = "textarea";
  keyboard.className = "keyboard";
  textarea.rows = "10";
  textarea.cols = "80";
  body.appendChild(container);
  container.appendChild(textarea);
  container.appendChild(keyboard);
  keyboard.appendChild(createButton(arrFirst));
  keyboard.appendChild(createButton(arrSecond));
  keyboard.appendChild(createButton(arrThird));
  keyboard.appendChild(createButton(arrFourth));
  keyboard.appendChild(createButton(arrFifth));
  return body;
}
createPage();

function createButton(arr) {
  const row = document.createElement("div");
  row.className = "row";
  for (let i = 0; i < arr.length; i++) {
    const button = document.createElement("div");
    button.className = arr[i].class;
    const content =
      // `<div class="english">
      `<p class="english">${arr[i].enContentFirst}</p>
      <p class="english">${arr[i].enContentSecond}</p>
    
    
      <p class="russian">${arr[i].ruContentFirst}</p>
      <p class="russian">${arr[i].ruContentSecond}</p>`;
    button.innerHTML = content;
    row.appendChild(button);
  }

  return row;
}

function outputSymbol(index) {
  const keyboard = document.querySelector(".keyboard");
  const textarea = document.querySelector(".textarea");
  let result = "";
  // textarea.innerText = result.innerText;
  keyboard.addEventListener("click", (e) => {
    const button = e.target.closest(".button-basic");
    // const x = button.childNodes;
    // let result = "";
    result = `${result}${button.childNodes[index].innerText}`;
    textarea.innerText = `${textarea.innerText}${result}`;
    // console.log(button.childNodes[6]);
    // console.log(x);
  });
}
outputSymbol(2);

function switchLanguage() {
  const shiftLeft = document.querySelector(".shift-left");
  const altLeft = document.querySelector(".alt-left");
  const english = document.querySelectorAll(".english");
  const russian = document.querySelectorAll(".russian");
  shiftLeft.classList.add("pressed");
  altLeft.classList.add("pressed");

  english.forEach((el) => el.classList.toggle("english-inactive"));
  russian.forEach((el) => el.classList.toggle("russian-active"));
  const englishInactive = document.querySelector(".english-inactive");
  if (!englishInactive) {
    outputSymbol(2);
  } else {
    outputSymbol(6);
  }
}

function runOnKeys(func, ...args) {
  let arrChars = [];

  document.addEventListener("keydown", function (event) {
    if (event.repeat) return;
    arrChars.push(event.code);
  });

  document.addEventListener("keyup", function () {
    if (arrChars.length == 0) return;

    let runFunc = true;
    for (let arg of args) {
      if (!arrChars.includes(arg)) {
        runFunc = false;
        break;
      }
    }
    if (runFunc) switchLanguage();

    arrChars.length = 0;
  });
}

runOnKeys(switchLanguage(), "ShiftLeft", "AltLeft");

// function activeButton(arr) {
//   for (let i; i < arr.length; i++) {
//     if (event.code === arr[i].keycode) {
//       const lightButton = document.querySelector(arr[i].class);
//       return lightButton.classList.add("active");
//       // (arr[i].class = "active");
//       // classList.add("active");
//       // keyQ.classList.add("active");
//     }
//   }
// }
// // const keyQ = document.querySelector(".key-q");
// document.addEventListener("keyup", () => {
//   console.log(111);
//   activeButton(arrSecond);
//   let x = "." + arrSecond[1].class;
//   const lightButton = document.querySelector(x);
//   console.log(lightButton);
// });
// // arrSecond[1].class = arrSecond[1].class + " active";
// // function activeButton(arr) {}
